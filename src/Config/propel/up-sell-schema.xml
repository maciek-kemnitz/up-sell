<?xml version="1.0" encoding="utf-8"?>
<database name="up-sell" namespace="src\Model" defaultIdMethod="native"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://xsd.propelorm.org/1.6/database.xsd">
    <table name="product"  idMethod="native">
        <column name="id"  type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="shoplo_product_id" type="INTEGER" required="true"/>
        <column name="shop_domain" type="VARCHAR" size="255" required="true"/>
        <column name="name"  type="LONGVARCHAR" required="true"/>
        <column name="description"  type="LONGVARCHAR" required="false"/>
        <column name="img_url"  type="LONGVARCHAR" required="true"/>
        <column name="original_price"  type="DOUBLE" required="true"/>
        <column name="url" type="LONGVARCHAR" required="true"/>
        <column name="thumbnail" type="LONGVARCHAR" required="false"/>
        <column name="sku" type="FLOAT" required="false"/>
        <column name="variants" type="LONGVARCHAR" required="false"/>
        <unique name="shoplo_product_id">
            <unique-column name="shoplo_product_id"/>
            <unique-column name="shop_domain"/>
        </unique>
        <vendor type="mysql">
            <parameter name="Engine" value="InnoDB"/>
            <parameter name="Charset" value="utf8"/>
        </vendor>
    </table>
    <table name="product_in_cart"  idMethod="native" allowPkInsert="true">
        <column name="id"  type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="up_sell_id"  type="INTEGER" required="true"/>
        <column name="product_id"  type="INTEGER" required="true"/>
        <column name="variant_selected" type="INTEGER" required="false"/>
        <foreign-key foreignTable="up_sell" name="product_in_cart_ibfk_1" onDelete="RESTRICT" onUpdate="RESTRICT">
            <reference local="up_sell_id" foreign="id"/>
        </foreign-key>
        <unique name="up_sell_id">
            <unique-column name="up_sell_id"/>
            <unique-column name="product_id"/>
            <unique-column name="variant_selected"/>
        </unique>
        <vendor type="mysql">
            <parameter name="Engine" value="InnoDB"/>
        </vendor>
    </table>
    <table name="related_product"  idMethod="native">
        <column name="id"  type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="up_sell_id" type="INTEGER" required="true"/>
        <column name="product_id" type="INTEGER" required="true"/>
        <column name="variant_selected" type="INTEGER" required="false"/>
        <foreign-key foreignTable="up_sell" name="related_product_ibfk_1" onDelete="RESTRICT" onUpdate="RESTRICT">
            <reference local="up_sell_id" foreign="id"/>
        </foreign-key>
        <unique name="up_sell_id">
            <unique-column name="up_sell_id"/>
            <unique-column name="product_id"/>
            <unique-column name="variant_selected"/>
        </unique>
        <vendor type="mysql">
            <parameter name="Engine" value="InnoDB"/>
        </vendor>
    </table>
    <table name="up_sell" idMethod="native">
        <column name="id"  type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="shop_domain" type="VARCHAR" size="255" required="true"/>
        <column name="order"  type="INTEGER" required="true"/>
        <column name="name"  type="VARCHAR" size="255" required="true"/>
        <column name="headline"  type="LONGVARCHAR" required="true"/>
        <column name="description"  type="LONGVARCHAR" required="true"/>
        <column name="price_from"  type="DOUBLE" required="false"/>
        <column name="price_to"  type="DOUBLE" required="false"/>
        <column name="use_price_range" type="CHAR" sqlType="enum('0','1')" required="true" defaultValue="1"/>
        <column name="created_at" type="TIMESTAMP" required="true"/>
        <column name="status" type="CHAR" sqlType="enum('active','disabled')" required="true" defaultValue="active"/>
        <column name="discount_type" type="CHAR" sqlType="enum('none','percent','amount')" required="true" defaultValue="none"/>
        <column name="discount_amount"  type="DOUBLE" required="false"/>
        <vendor type="mysql">
            <parameter name="Engine" value="InnoDB"/>
            <parameter name="Charset" value="utf8"/>
        </vendor>
    </table>
</database>